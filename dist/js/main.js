(()=>{"use strict";const e=({timing:e,draw:t,duration:s})=>{const r=performance.now();requestAnimationFrame((function o(a){let l=(a-r)/s;l>1&&(l=1);const n=e(l);t(n),l<1&&requestAnimationFrame(o)}))},t=({sliderBlockSelector:t,sliderWrapSelector:s,slidesSelector:r,leftArrowClass:o,rightArrowClass:a,countActiveSlides:l=2,slideActiveClass:n="active-slide"})=>{try{const c=document.querySelector(t);if(!c)return;const i=c.querySelectorAll(r),d=c.querySelector(o),u=c.querySelector(a);let m=0,v=l-1,y=!1;s&&(y=c.querySelector(s));const g=(e,t,s)=>{e[t].classList.remove(s)},h=(t,s,r)=>{t[s].classList.add(r),e({duration:200,timing:e=>e,draw(e){t[s].style.transform=`scale(${.9+.1*e})`}})};if(u.addEventListener("click",(e=>{e.preventDefault(),v+1<i.length&&(m++,v++,g(i,m-1,n),h(i,v,n),d.classList.remove("arrow-disable")),v+1>=i.length&&u.classList.add("arrow-disable")})),d.addEventListener("click",(e=>{e.preventDefault(),m-1>=0&&(m--,v--,g(i,v+1,n),h(i,m,n),u.classList.remove("arrow-disable")),m-1<0&&d.classList.add("arrow-disable")})),!i||!d||!u)return;if(screen.width<576&&(v=m,y&&(y.style.justifyContent="center")),v===i.length-1||l<1||v+1>i.length)return u.classList.add("arrow-disable"),void d.classList.add("arrow-disable");i.forEach(((e,t)=>{e.style.display="none",t<=v&&e.classList.add(n)})),d.classList.add("arrow-disable")}catch(e){console.log(e)}};(()=>{const t=document.querySelector(".overlay"),s=e=>{t.style.display="",e.style.display="",e.classList.remove("active")};try{document.addEventListener("click",(r=>{if(r.target.matches("a.btn-modal"))r.preventDefault(),(s=>{const r=document.querySelector(`.${s}-modal`);t.style.display="block",r.style.display="block",r.classList.add("active"),screen.width>=768&&e({duration:150,timing:e=>e,draw(e){r.style.top=50*e+"%"}})})(r.target.dataset.modal);else if(r.target.matches("span.modal-close"))s(r.target.closest(".modal-block"));else if(r.target.matches(".overlay")){const e=document.querySelector(".modal-block.active");s(e)}}))}catch(e){console.log(e)}})(),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.getElementById("offer");let s,r;const o=()=>{s-=50,r=requestAnimationFrame(o),s>=0?scrollTo(0,s):(scrollTo(0,0),cancelAnimationFrame(r))};e.addEventListener("click",(()=>{s=scrollY,r=requestAnimationFrame(o)})),window.addEventListener("scroll",(()=>{scrollY<t.offsetTop+t.offsetHeight?(e.style.opacity="",e.style.pointerEvents=""):(e.style.opacity=1,e.style.pointerEvents="auto")}))})(),(()=>{const t=document.querySelectorAll("a.sertificate-document");try{t.forEach((t=>{t.addEventListener("click",(s=>{s.preventDefault();const r=document.createElement("div"),o=document.createElement("img");o.src=t.href,o.alt=t.href.match(/[^\\\/]*$/)[0],r.className="origin-document",r.append(o),document.body.append(r),screen.width>=768&&e({duration:150,timing:e=>e,draw(e){o.style=`transform: translateY(-${30-30*e}%);`,r.style=`opacity: ${e};`}}),r.addEventListener("click",(()=>{screen.width>=768&&e({duration:150,timing:e=>e,draw(e){o.style=`transform: translateY(-${30*e}%);`,r.style=`opacity: ${1-e};`}}),setTimeout((()=>r.remove()),150)}))}))}))}catch(e){console.log(e)}})(),(e=>{try{const t=document.querySelectorAll(".countdown"),s=new Date(e).getTime();let r;const o=()=>{const e=(new Date).getTime(),t=(s-e)/1e3;return t<=0?{interval:!1,days:0,hours:0,minutes:0,seconds:0}:{interval:!0,days:Math.floor(t/86400),hours:Math.floor(t%86400/3600),minutes:Math.floor(t%3600/60),seconds:Math.floor(t%60)}},a=()=>{const e=o();e.interval||clearInterval(r),e.days<10&&(e.days="0"+e.days),e.hours<10&&(e.hours="0"+e.hours),e.minutes<10&&(e.minutes="0"+e.minutes),e.seconds<10&&(e.seconds="0"+e.seconds),t.forEach((t=>{const s=t.querySelectorAll(".count span");s[0].textContent=e.days,s[1].textContent=e.hours,s[2].textContent=e.minutes,s[3].textContent=e.seconds}))};a(),r=setInterval(a,1e3)}catch(e){console.log(e)}})("27 november 2024"),t({sliderBlockSelector:"#benefits",sliderWrapSelector:".benefits-wrap",slidesSelector:".benefits__item",leftArrowClass:".benefits__arrow--left",rightArrowClass:".benefits__arrow--right",countActiveSlides:3,slideActiveClass:"active-slide"}),t({sliderBlockSelector:"#services",sliderWrapSelector:"",slidesSelector:".services-slide",leftArrowClass:".services__arrow--left",rightArrowClass:".services__arrow--right",countActiveSlides:2,slideActiveClass:"active-slide"}),(()=>{try{const t=document.getElementById("calc");if(!t)return;const s=document.getElementById("calc-total"),r={};t.addEventListener("input",(t=>{let o=1;if("calc-input"===t.target.id&&(t.target.value=t.target.value.replace(/\D+/gi,"")),t.target.matches("select")&&t.target.options[0].selected||""===t.target.value?r[t.target.id]="":r[t.target.id]=t.target.value,r["calc-input"]&&r["calc-type"]){for(let e in r)""!==r[e]&&(o*=r[e]);e({duration:300,timing:e=>e,draw(e){s.value=Math.round(e*o)}})}else s.value=""}))}catch(e){console.log(e)}})(),(()=>{try{const e=document.createElement("div"),t="Ошибка",s="Успешно отправлено!",r=e=>{let t=!0;return e.forEach((e=>{""===e.value.trim()&&(t=!1,e.classList.add("error"),setTimeout((()=>e.classList.remove("error")),3e3))})),t},o=e=>fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json())),a=a=>{const l=a.querySelectorAll("input"),n=new FormData(a),c={};e.classList.add("form-status"),e.textContent="Отправка...",a.append(e),n.forEach(((e,t)=>{c[t]=e.trim()}));const i=document.getElementById("calc-total");i&&""!==i.value.trim()&&(c["calc-total"]=i.value),r(l)?o(c).then((t=>{e.textContent=s,l.forEach((e=>{"hidden"!==e.type&&(e.value="")})),setTimeout((()=>e.textContent=""),3e3)})).catch((s=>{e.textContent=t,setTimeout((()=>e.textContent=""),3e3)})):(e.textContent=t,setTimeout((()=>e.textContent=""),3e3))};document.body.addEventListener("input",(t=>{"fio"===t.target.name&&(t.target.value=t.target.value.replace(/[^а-яА-яa-zA-Z -]/g,""),t.target.classList.remove("error"),e.textContent=""),"phone"===t.target.name&&(t.target.value=t.target.value.replace(/[^\d+]/g,""),t.target.value.length>16&&(t.target.value=t.target.value.slice(0,16)),t.target.classList.remove("error"),e.textContent="")})),document.body.addEventListener("click",(e=>{"submit"===e.target.type&&(e.preventDefault(),a(e.target.closest("form")))}))}catch(e){console.log(e)}})()})();